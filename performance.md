# 性能优化

* 防抖和节流

   防抖和节流的作用都是防止函数多次调用。区别在于，假设一个用户一直触发这个函数，且每次触发函数的间隔小于wait，防抖的情况下只会调用一次，而节流的 情况会每隔一定时间（参数wait）调用函数。

* 图片优化

   1. 懒加载
   2. 小图用base64
   3. 雪碧图
   4. 用webp格式的图片
   5. 尽可能用css去画图标 

* CDN   

* webpack 压缩代码 按需加载 缩小代码体积 `import().then()`

* 动画用`requestAnimationFrame`实现

* 做网络请求缓存

* 避免回流和重绘
    
   重绘是当节点需要更改外观而不会影响布局的，比如改变 color 就叫称为重绘。

   回流是布局或者几何属性需要改变就称为回流。

   * 使用 `visibility` 替换 `display: none` ，因为前者只会引起重绘，后者会引发回流（改变了布局）

   * 把 DOM 离线后修改，比如：先把 DOM 给 `display:none` (有一次 Reflow)，然后你修改 100次，然后再把它显示出来

   * 不要把 DOM 结点的属性值放在一个循环里当成循环里的变量

   * 不要使用 table 布局，可能很小的一个小改动会造成整个 table 的重新布局
